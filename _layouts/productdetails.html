---
layout: default
head:
  snipcart.html
---
<div class="product-details">
  <img src="{{ page.image }}" alt="{{ page.name }}" class="thumbnail"/>
  <div class="product-description">
    <p>{{ page.name }}</p>

    <p>
      {{ page.content }}
    </p>

    <button class="snipcart-add-item"
      data-item-name="{{ page.name }}"
      data-item-id="{{ page.sku }}"
      data-item-image="{{ page.image }}"
      data-item-url="{{ site.baseurl }}"
      data-item-price="{{ page.price }}">
      Buy it for {{ page.price }} $
    </button>
  </div>
</div>
<div class="product-reviews">
  {% assign reviews = site.data.reviews | where:'slug',page.slug %}
  {% assign reviewCount = reviews | size %}
  <h3>Reviews {% if reviewCount > 0 %} ({{ reviewCount }}) {% endif %}</h3>
  <form method="POST" action="https://api.staticman.net/v2/entry/snipcart/snipcart-jekyll-integration/gh-pages/reviews">
    <input name="options[slug]" type="hidden" value="{{ page.slug }}" />
    <input name="options[redirect]" type="hidden" value="{{site.url}}{{site.baseurl}}{{ page.url }}" />
    
    <h4>Add a review</h4>
    <p><label>Your name: <input type="text" name="fields[name]" /></label></p>
    <p><label>Review: <input type="text" name="fields[review]" /></label></p>
    <p><label>Comment: <input type="text" name="fields[message]" /></label></p>
    <p><button type="submit">Save review</button></p>
  </form>
  <ul>
    {% for review in reviews %}
    <li>
      {{review.review}} / 5 by {{ review.name }} on {{ review.date | date: '%B %d, %Y' }}
    </li>
    {% endfor %}
  </ul>
</div>
